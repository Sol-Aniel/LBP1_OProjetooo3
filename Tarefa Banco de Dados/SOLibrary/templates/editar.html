<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cadastro de Livros, Autores e Categorias</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
  <header>
    Cadastro de Livros, Autores e Categorias
  </header>
  
  <div class="container">

    {% if tipo=="livro" %}

    <!-- Formulário para Livros -->
    <div class="section">
      <h2>Cadastro de Livros</h2>
      <form action="{{ url_for('sol.edit', id=id, tipo='livro') }}" method="POST">
        <input type="hidden" name="form_type" value="livro">
        <label for="title">Título</label>
        <input type="text" id="title" name="title" value="{{ title }}" required>

        <label for="author">Autor</label>
        <select id="author" name="author" value="{{ author }}"  required>
            {% for autor in autores %}
                <option value="{{ autor.id }}">{{ autor.name }}</option>
            {% endfor %}
        </select>

        <label for="isbn">ISBN</label>
        <input type="text" id="isbn" name="isbn" value="{{ isbn }}"  required>

        <label for="category">Categoria</label>
        <select id="category" name="category" value="{{ category }}"  required>
            {% for categoria in categorias %}
                <option value="{{ categoria.id }}">{{ categoria.name }}</option>
            {% endfor %}
        </select>

        <label for="number_pages">Número de Páginas</label>
        <input type="number" id="number_pages" name="number_pages" value="{{ number_pages }}"  required>

        <label for="pub_date">Data de Publicação</label>
        <input type="date" id="pub_date" name="pub_date" value="{{ pub_date }}"  required>

        <div class="button-container">
          <button type="submit">Atualizar Livro</button>
        </div>
      </form>
    </div>

    {% elif tipo=="autor" %}

    <!-- Formulário para Autores -->
    <div class="section">
      <h2>Cadastro de Autores</h2>
      <form action="{{ url_for('sol.edit', id=id, tipo='autor') }}" method="POST">
        <input type="hidden" name="form_type" value="autor">
        <label for="name">Nome</label>
        <input type="text" id="name" name="name" value="{{ name }}" required>

        <label for="nacionality">Nacionalidade</label>
        <input type="text" id="nacionality" name="nacionality" value="{{ nacionality }}" required>

        <label for="birth_date">Data de Nascimento</label>
        <input type="date" id="birth_date" name="birth_date" value="{{ birth_date }}" required>

        <div class="button-container">
          <button type="submit">Atualizar Autor</button>
        </div>
      </form>
    </div>

    {% elif tipo=="categoria" %}

    <!-- Formulário para Categorias -->
    <div class="section">
      <h2>Cadastro de Categorias</h2>
      <form action="{{ url_for('sol.edit', id=id, tipo='categoria') }}" method="POST">
        <input type="hidden" name="form_type" value="categoria">
        <label for="name">Nome da Categoria</label>
        <input type="text" id="name" name="name" value="{{ name }}" required>

        <div class="button-container">
          <button type="submit">Atualizar Categoria</button>
        </div>
      </form>
    </div>

    {% endif %}

  </div>
</body>
</html>
